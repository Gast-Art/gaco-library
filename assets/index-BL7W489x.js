import{r as s,R as h,b as ee}from"./index-CZMpeKRu.js";import{j as I}from"./jsx-runtime-CLpGMVip.js";import{r as te}from"./index-Dy_t9DXc.js";function y(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function k(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function W(...e){return t=>{let n=!1;const o=e.map(r=>{const c=k(r,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let r=0;r<o.length;r++){const c=o[r];typeof c=="function"?c():k(e[r],null)}}}}function T(...e){return s.useCallback(W(...e),e)}function K(e,t=[]){let n=[];function o(c,a){const l=s.createContext(a),f=n.length;n=[...n,a];const i=v=>{var p;const{scope:C,children:d,...u}=v,m=((p=C==null?void 0:C[e])==null?void 0:p[f])||l,S=s.useMemo(()=>u,Object.values(u));return I.jsx(m.Provider,{value:S,children:d})};i.displayName=c+"Provider";function g(v,C){var m;const d=((m=C==null?void 0:C[e])==null?void 0:m[f])||l,u=s.useContext(d);if(u)return u;if(a!==void 0)return a;throw new Error(`\`${v}\` must be used within \`${c}\``)}return[i,g]}const r=()=>{const c=n.map(a=>s.createContext(a));return function(l){const f=(l==null?void 0:l[e])||c;return s.useMemo(()=>({[`__scope${e}`]:{...l,[e]:f}}),[l,f])}};return r.scopeName=e,[o,ne(r,...t)]}function ne(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(c){const a=o.reduce((l,{useScope:f,scopeName:i})=>{const v=f(c)[`__scope${i}`];return{...l,...v}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function U(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}function oe({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,r]=re({defaultProp:t,onChange:n}),c=e!==void 0,a=c?e:o,l=U(n),f=s.useCallback(i=>{if(c){const v=typeof i=="function"?i(e):i;v!==e&&l(v)}else r(i)},[c,e,r,l]);return[a,f]}function re({defaultProp:e,onChange:t}){const n=s.useState(e),[o]=n,r=s.useRef(o),c=U(t);return s.useEffect(()=>{r.current!==o&&(c(o),r.current=o)},[o,r,c]),n}var P=s.forwardRef((e,t)=>{const{children:n,...o}=e,r=s.Children.toArray(n),c=r.find(ce);if(c){const a=c.props.children,l=r.map(f=>f===c?s.Children.count(a)>1?s.Children.only(null):s.isValidElement(a)?a.props.children:null:f);return I.jsx(_,{...o,ref:t,children:s.isValidElement(a)?s.cloneElement(a,void 0,l):null})}return I.jsx(_,{...o,ref:t,children:n})});P.displayName="Slot";var _=s.forwardRef((e,t)=>{const{children:n,...o}=e;if(s.isValidElement(n)){const r=ue(n),c=ie(o,n.props);return n.type!==s.Fragment&&(c.ref=t?W(t,r):r),s.cloneElement(n,c)}return s.Children.count(n)>1?s.Children.only(null):null});_.displayName="SlotClone";var se=({children:e})=>I.jsx(I.Fragment,{children:e});function ce(e){return s.isValidElement(e)&&e.type===se}function ie(e,t){const n={...t};for(const o in t){const r=e[o],c=t[o];/^on[A-Z]/.test(o)?r&&c?n[o]=(...l)=>{c(...l),r(...l)}:r&&(n[o]=r):o==="style"?n[o]={...r,...c}:o==="className"&&(n[o]=[r,c].filter(Boolean).join(" "))}return{...e,...n}}function ue(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],V=ae.reduce((e,t)=>{const n=s.forwardRef((o,r)=>{const{asChild:c,...a}=o,l=c?P:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(l,{...a,ref:r})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _e(e,t){e&&te.flushSync(()=>e.dispatchEvent(t))}function le(e){const t=e+"CollectionProvider",[n,o]=K(t),[r,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=d=>{const{scope:u,children:m}=d,S=h.useRef(null),p=h.useRef(new Map).current;return I.jsx(r,{scope:u,itemMap:p,collectionRef:S,children:m})};a.displayName=t;const l=e+"CollectionSlot",f=h.forwardRef((d,u)=>{const{scope:m,children:S}=d,p=c(l,m),R=T(u,p.collectionRef);return I.jsx(P,{ref:R,children:S})});f.displayName=l;const i=e+"CollectionItemSlot",g="data-radix-collection-item",v=h.forwardRef((d,u)=>{const{scope:m,children:S,...p}=d,R=h.useRef(null),b=T(u,R),x=c(i,m);return h.useEffect(()=>(x.itemMap.set(R,{ref:R,...p}),()=>void x.itemMap.delete(R))),I.jsx(P,{[g]:"",ref:b,children:S})});v.displayName=i;function C(d){const u=c(e+"CollectionConsumer",d);return h.useCallback(()=>{const S=u.collectionRef.current;if(!S)return[];const p=Array.from(S.querySelectorAll(`[${g}]`));return Array.from(u.itemMap.values()).sort((x,w)=>p.indexOf(x.ref.current)-p.indexOf(w.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:a,Slot:f,ItemSlot:v},C,o]}var fe=s.createContext(void 0);function de(e){const t=s.useContext(fe);return e||t||"ltr"}var D=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},me=ee.useId||(()=>{}),pe=0;function ve(e){const[t,n]=s.useState(me());return D(()=>{e||n(o=>o??String(pe++))},[e]),e||(t?`radix-${t}`:"")}function Ce(e,t){return s.useReducer((n,o)=>t[n][o]??n,e)}var Re=e=>{const{present:t,children:n}=e,o=ge(t),r=typeof n=="function"?n({present:o.isPresent}):s.Children.only(n),c=T(o.ref,Se(r));return typeof n=="function"||o.isPresent?s.cloneElement(r,{ref:c}):null};Re.displayName="Presence";function ge(e){const[t,n]=s.useState(),o=s.useRef({}),r=s.useRef(e),c=s.useRef("none"),a=e?"mounted":"unmounted",[l,f]=Ce(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const i=A(o.current);c.current=l==="mounted"?i:"none"},[l]),D(()=>{const i=o.current,g=r.current;if(g!==e){const C=c.current,d=A(i);e?f("MOUNT"):d==="none"||(i==null?void 0:i.display)==="none"?f("UNMOUNT"):f(g&&C!==d?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,f]),D(()=>{if(t){let i;const g=t.ownerDocument.defaultView??window,v=d=>{const m=A(o.current).includes(d.animationName);if(d.target===t&&m&&(f("ANIMATION_END"),!r.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",i=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},C=d=>{d.target===t&&(c.current=A(o.current))};return t.addEventListener("animationstart",C),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(i),t.removeEventListener("animationstart",C),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:s.useCallback(i=>{i&&(o.current=getComputedStyle(i)),n(i)},[])}}function A(e){return(e==null?void 0:e.animationName)||"none"}function Se(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var O="rovingFocusGroup.onEntryFocus",Ie={bubbles:!1,cancelable:!0},F="RovingFocusGroup",[j,$,Ne]=le(F),[Ee,De]=K(F,[Ne]),[he,be]=Ee(F),B=s.forwardRef((e,t)=>I.jsx(j.Provider,{scope:e.__scopeRovingFocusGroup,children:I.jsx(j.Slot,{scope:e.__scopeRovingFocusGroup,children:I.jsx(xe,{...e,ref:t})})}));B.displayName=F;var xe=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:r=!1,dir:c,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:f,onEntryFocus:i,preventScrollOnEntryFocus:g=!1,...v}=e,C=s.useRef(null),d=T(t,C),u=de(c),[m=null,S]=oe({prop:a,defaultProp:l,onChange:f}),[p,R]=s.useState(!1),b=U(i),x=$(n),w=s.useRef(!1),[Z,L]=s.useState(0);return s.useEffect(()=>{const N=C.current;if(N)return N.addEventListener(O,b),()=>N.removeEventListener(O,b)},[b]),I.jsx(he,{scope:n,orientation:o,dir:u,loop:r,currentTabStopId:m,onItemFocus:s.useCallback(N=>S(N),[S]),onItemShiftTab:s.useCallback(()=>R(!0),[]),onFocusableItemAdd:s.useCallback(()=>L(N=>N+1),[]),onFocusableItemRemove:s.useCallback(()=>L(N=>N-1),[]),children:I.jsx(V.div,{tabIndex:p||Z===0?-1:0,"data-orientation":o,...v,ref:d,style:{outline:"none",...e.style},onMouseDown:y(e.onMouseDown,()=>{w.current=!0}),onFocus:y(e.onFocus,N=>{const J=!w.current;if(N.target===N.currentTarget&&J&&!p){const G=new CustomEvent(O,Ie);if(N.currentTarget.dispatchEvent(G),!G.defaultPrevented){const M=x().filter(E=>E.focusable),Q=M.find(E=>E.active),X=M.find(E=>E.id===m),H=[Q,X,...M].filter(Boolean).map(E=>E.ref.current);z(H,g)}}w.current=!1}),onBlur:y(e.onBlur,()=>R(!1))})})}),Y="RovingFocusGroupItem",q=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:r=!1,tabStopId:c,...a}=e,l=ve(),f=c||l,i=be(Y,n),g=i.currentTabStopId===f,v=$(n),{onFocusableItemAdd:C,onFocusableItemRemove:d}=i;return s.useEffect(()=>{if(o)return C(),()=>d()},[o,C,d]),I.jsx(j.ItemSlot,{scope:n,id:f,focusable:o,active:r,children:I.jsx(V.span,{tabIndex:g?0:-1,"data-orientation":i.orientation,...a,ref:t,onMouseDown:y(e.onMouseDown,u=>{o?i.onItemFocus(f):u.preventDefault()}),onFocus:y(e.onFocus,()=>i.onItemFocus(f)),onKeyDown:y(e.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){i.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const m=Ae(u,i.orientation,i.dir);if(m!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let p=v().filter(R=>R.focusable).map(R=>R.ref.current);if(m==="last")p.reverse();else if(m==="prev"||m==="next"){m==="prev"&&p.reverse();const R=p.indexOf(u.currentTarget);p=i.loop?Te(p,R+1):p.slice(R+1)}setTimeout(()=>z(p))}})})})});q.displayName=Y;var ye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function we(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ae(e,t,n){const o=we(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ye[o]}function z(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function Te(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var je=B,Ue=q;export{Ue as I,V as P,je as R,P as S,De as a,oe as b,K as c,ve as d,y as e,Re as f,U as g,T as h,_e as i,D as j,le as k,W as l,de as u};
