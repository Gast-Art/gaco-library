import{j as s}from"./jsx-runtime-CLpGMVip.js";import{r as g}from"./index-CR__hKHy.js";import{d as F,e as A,f as L,v as R,g as D,h as k,i as B,u as z,b as G,_ as H,S as J,C as K,L as Q,E as U,c as X,a as Y}from"./styles-DjolQyXp.js";import"./index-D2e_E8nu.js";import{d as Z}from"./styled-components.browser.esm-DnH8uv-2.js";import{C as ee}from"./circle-alert-C-cAHhHG.js";var te=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],M=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=String(t).toLowerCase(),r=String(n.getOptionValue(a)).toLowerCase(),d=String(n.getOptionLabel(a)).toLowerCase();return r===i||d===i},V={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,a,n,i){return!(!t||a.some(function(r){return M(t,r,i)})||n.some(function(r){return M(t,r,i)}))},getNewOptionData:function(t,a){return{label:a,value:t,__isNew__:!0}}};function ne(e){var t=e.allowCreateWhileLoading,a=t===void 0?!1:t,n=e.createOptionPosition,i=n===void 0?"last":n,r=e.formatCreateLabel,d=r===void 0?V.formatCreateLabel:r,S=e.isValidNewOption,b=S===void 0?V.isValidNewOption:S,v=e.getNewOptionData,c=v===void 0?V.getNewOptionData:v,f=e.onCreateOption,O=e.options,l=O===void 0?[]:O,p=e.onChange,o=F(e,te),$=o.getOptionValue,N=$===void 0?k:$,x=o.getOptionLabel,j=x===void 0?B:x,u=o.inputValue,P=o.isLoading,T=o.isMulti,w=o.value,_=o.name,m=g.useMemo(function(){return b(u,A(w),l,{getOptionValue:N,getOptionLabel:j})?c(u,d(u)):void 0},[d,c,j,N,u,b,l,w]),E=g.useMemo(function(){return(a||!P)&&m?i==="first"?[m].concat(L(l)):[].concat(L(l),[m]):l},[a,i,P,m,l]),I=g.useCallback(function(C,y){if(y.action!=="select-option")return p(C,y);var q=Array.isArray(C)?C:[C];if(q[q.length-1]===m){if(f)f(u);else{var h=c(u,u),W={action:"create-option",name:_,option:h};p(R(T,[].concat(L(A(w)),[h]),h),W)}return}p(C,y)},[c,u,T,_,m,f,p,w]);return D(D({},o),{},{options:E,onChange:I})}var ae=g.forwardRef(function(e,t){var a=z(e),n=ne(a);return g.createElement(G,H({ref:t},n))}),re=ae;const ie=Z(re)`
  ${J}
`,oe=e=>s.jsx(X.DropdownIndicator,{...e,children:e.error?s.jsx(ee,{}):s.jsx(Y,{})}),se=({id:e,className:t,options:a,value:n,defaultInputValue:i,error:r,createOptionPosition:d,onChange:S,onCreateOption:b,filterOption:v,label:c})=>{const[f,O]=g.useState(!1),l=!!(n!=null&&n.value.length)||!!i;return s.jsxs("div",{className:t,children:[s.jsxs(K,{$error:!!r,children:[s.jsx(ie,{id:e,options:a,menuPortalTarget:document.body,isClearable:!0,value:n,defaultInputValue:i,createOptionPosition:d,onChange:(p,o)=>S(p,o),onCreateOption:b,placeholder:" ",classNamePrefix:"react-select",onFocus:()=>O(!0),onBlur:()=>O(!1),filterOption:v,components:{DropdownIndicator:p=>s.jsx(oe,{...p,error:r})}}),c&&s.jsx(Q,{$active:l||f,children:c})]}),r&&s.jsx(U,{id:`${e}-error`,children:r})]})};se.__docgenInfo={description:"",methods:[],displayName:"CreatableSelect",props:{id:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:""},value:{required:!1,tsType:{name:"SingleValue",elements:[{name:"SelectOption"}],raw:"SingleValue<SelectOption>"},description:""},defaultInputValue:{required:!1,tsType:{name:"string"},description:""},createOptionPosition:{required:!1,tsType:{name:"union",raw:"'first' | 'last'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'last'"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selected: SingleValue<SelectOption>, actionMeta: ActionMeta<SelectOption>) => void",signature:{arguments:[{type:{name:"SingleValue",elements:[{name:"SelectOption"}],raw:"SingleValue<SelectOption>"},name:"selected"},{type:{name:"ActionMeta",elements:[{name:"SelectOption"}],raw:"ActionMeta<SelectOption>"},name:"actionMeta"}],return:{name:"void"}}},description:""},onCreateOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(inputValue: string) => void",signature:{arguments:[{type:{name:"string"},name:"inputValue"}],return:{name:"void"}}},description:""},filterOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: SelectOption, inputValue: string) => boolean",signature:{arguments:[{type:{name:"SelectOption"},name:"option"},{type:{name:"string"},name:"inputValue"}],return:{name:"boolean"}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""}}};export{se as C};
