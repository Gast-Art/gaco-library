import{r as s,R as E,b as ee}from"./index-CR__hKHy.js";import{j as g}from"./jsx-runtime-CLpGMVip.js";import{r as te}from"./index-D2e_E8nu.js";function w(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function k(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function W(...e){return t=>{let n=!1;const o=e.map(r=>{const c=k(r,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let r=0;r<o.length;r++){const c=o[r];typeof c=="function"?c():k(e[r],null)}}}}function P(...e){return s.useCallback(W(...e),e)}function _e(e,t){const n=s.createContext(t),o=c=>{const{children:u,...a}=c,f=s.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:f,children:u})};o.displayName=e+"Provider";function r(c){const u=s.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[o,r]}function $(e,t=[]){let n=[];function o(c,u){const a=s.createContext(u),f=n.length;n=[...n,u];const i=v=>{var p;const{scope:C,children:d,...l}=v,m=((p=C==null?void 0:C[e])==null?void 0:p[f])||a,I=s.useMemo(()=>l,Object.values(l));return g.jsx(m.Provider,{value:I,children:d})};i.displayName=c+"Provider";function S(v,C){var m;const d=((m=C==null?void 0:C[e])==null?void 0:m[f])||a,l=s.useContext(d);if(l)return l;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${c}\``)}return[i,S]}const r=()=>{const c=n.map(u=>s.createContext(u));return function(a){const f=(a==null?void 0:a[e])||c;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:f}}),[a,f])}};return r.scopeName=e,[o,ne(r,...t)]}function ne(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(c){const u=o.reduce((a,{useScope:f,scopeName:i})=>{const v=f(c)[`__scope${i}`];return{...a,...v}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function U(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}function oe({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,r]=re({defaultProp:t,onChange:n}),c=e!==void 0,u=c?e:o,a=U(n),f=s.useCallback(i=>{if(c){const v=typeof i=="function"?i(e):i;v!==e&&a(v)}else r(i)},[c,e,r,a]);return[u,f]}function re({defaultProp:e,onChange:t}){const n=s.useState(e),[o]=n,r=s.useRef(o),c=U(t);return s.useEffect(()=>{r.current!==o&&(c(o),r.current=o)},[o,r,c]),n}var T=s.forwardRef((e,t)=>{const{children:n,...o}=e,r=s.Children.toArray(n),c=r.find(ce);if(c){const u=c.props.children,a=r.map(f=>f===c?s.Children.count(u)>1?s.Children.only(null):s.isValidElement(u)?u.props.children:null:f);return g.jsx(_,{...o,ref:t,children:s.isValidElement(u)?s.cloneElement(u,void 0,a):null})}return g.jsx(_,{...o,ref:t,children:n})});T.displayName="Slot";var _=s.forwardRef((e,t)=>{const{children:n,...o}=e;if(s.isValidElement(n)){const r=ue(n),c=ie(o,n.props);return n.type!==s.Fragment&&(c.ref=t?W(t,r):r),s.cloneElement(n,c)}return s.Children.count(n)>1?s.Children.only(null):null});_.displayName="SlotClone";var se=({children:e})=>g.jsx(g.Fragment,{children:e});function ce(e){return s.isValidElement(e)&&e.type===se}function ie(e,t){const n={...t};for(const o in t){const r=e[o],c=t[o];/^on[A-Z]/.test(o)?r&&c?n[o]=(...a)=>{c(...a),r(...a)}:r&&(n[o]=r):o==="style"?n[o]={...r,...c}:o==="className"&&(n[o]=[r,c].filter(Boolean).join(" "))}return{...e,...n}}function ue(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],K=ae.reduce((e,t)=>{const n=s.forwardRef((o,r)=>{const{asChild:c,...u}=o,a=c?T:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(a,{...u,ref:r})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function De(e,t){e&&te.flushSync(()=>e.dispatchEvent(t))}function le(e){const t=e+"CollectionProvider",[n,o]=$(t),[r,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=d=>{const{scope:l,children:m}=d,I=E.useRef(null),p=E.useRef(new Map).current;return g.jsx(r,{scope:l,itemMap:p,collectionRef:I,children:m})};u.displayName=t;const a=e+"CollectionSlot",f=E.forwardRef((d,l)=>{const{scope:m,children:I}=d,p=c(a,m),R=P(l,p.collectionRef);return g.jsx(T,{ref:R,children:I})});f.displayName=a;const i=e+"CollectionItemSlot",S="data-radix-collection-item",v=E.forwardRef((d,l)=>{const{scope:m,children:I,...p}=d,R=E.useRef(null),N=P(l,R),b=c(i,m);return E.useEffect(()=>(b.itemMap.set(R,{ref:R,...p}),()=>void b.itemMap.delete(R))),g.jsx(T,{[S]:"",ref:N,children:I})});v.displayName=i;function C(d){const l=c(e+"CollectionConsumer",d);return E.useCallback(()=>{const I=l.collectionRef.current;if(!I)return[];const p=Array.from(I.querySelectorAll(`[${S}]`));return Array.from(l.itemMap.values()).sort((b,y)=>p.indexOf(b.ref.current)-p.indexOf(y.ref.current))},[l.collectionRef,l.itemMap])}return[{Provider:u,Slot:f,ItemSlot:v},C,o]}var fe=s.createContext(void 0);function de(e){const t=s.useContext(fe);return e||t||"ltr"}var D=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},me=ee.useId||(()=>{}),pe=0;function ve(e){const[t,n]=s.useState(me());return D(()=>{e||n(o=>o??String(pe++))},[e]),e||(t?`radix-${t}`:"")}function Ce(e,t){return s.useReducer((n,o)=>t[n][o]??n,e)}var Re=e=>{const{present:t,children:n}=e,o=ge(t),r=typeof n=="function"?n({present:o.isPresent}):s.Children.only(n),c=P(o.ref,Se(r));return typeof n=="function"||o.isPresent?s.cloneElement(r,{ref:c}):null};Re.displayName="Presence";function ge(e){const[t,n]=s.useState(),o=s.useRef({}),r=s.useRef(e),c=s.useRef("none"),u=e?"mounted":"unmounted",[a,f]=Ce(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const i=A(o.current);c.current=a==="mounted"?i:"none"},[a]),D(()=>{const i=o.current,S=r.current;if(S!==e){const C=c.current,d=A(i);e?f("MOUNT"):d==="none"||(i==null?void 0:i.display)==="none"?f("UNMOUNT"):f(S&&C!==d?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,f]),D(()=>{if(t){let i;const S=t.ownerDocument.defaultView??window,v=d=>{const m=A(o.current).includes(d.animationName);if(d.target===t&&m&&(f("ANIMATION_END"),!r.current)){const I=t.style.animationFillMode;t.style.animationFillMode="forwards",i=S.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=I)})}},C=d=>{d.target===t&&(c.current=A(o.current))};return t.addEventListener("animationstart",C),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{S.clearTimeout(i),t.removeEventListener("animationstart",C),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:s.useCallback(i=>{i&&(o.current=getComputedStyle(i)),n(i)},[])}}function A(e){return(e==null?void 0:e.animationName)||"none"}function Se(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var O="rovingFocusGroup.onEntryFocus",Ie={bubbles:!1,cancelable:!0},M="RovingFocusGroup",[j,V,he]=le(M),[xe,je]=$(M,[he]),[Ee,Ne]=xe(M),B=s.forwardRef((e,t)=>g.jsx(j.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(j.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx(be,{...e,ref:t})})}));B.displayName=M;var be=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:r=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:f,onEntryFocus:i,preventScrollOnEntryFocus:S=!1,...v}=e,C=s.useRef(null),d=P(t,C),l=de(c),[m=null,I]=oe({prop:u,defaultProp:a,onChange:f}),[p,R]=s.useState(!1),N=U(i),b=V(n),y=s.useRef(!1),[Z,L]=s.useState(0);return s.useEffect(()=>{const h=C.current;if(h)return h.addEventListener(O,N),()=>h.removeEventListener(O,N)},[N]),g.jsx(Ee,{scope:n,orientation:o,dir:l,loop:r,currentTabStopId:m,onItemFocus:s.useCallback(h=>I(h),[I]),onItemShiftTab:s.useCallback(()=>R(!0),[]),onFocusableItemAdd:s.useCallback(()=>L(h=>h+1),[]),onFocusableItemRemove:s.useCallback(()=>L(h=>h-1),[]),children:g.jsx(K.div,{tabIndex:p||Z===0?-1:0,"data-orientation":o,...v,ref:d,style:{outline:"none",...e.style},onMouseDown:w(e.onMouseDown,()=>{y.current=!0}),onFocus:w(e.onFocus,h=>{const J=!y.current;if(h.target===h.currentTarget&&J&&!p){const G=new CustomEvent(O,Ie);if(h.currentTarget.dispatchEvent(G),!G.defaultPrevented){const F=b().filter(x=>x.focusable),Q=F.find(x=>x.active),X=F.find(x=>x.id===m),H=[Q,X,...F].filter(Boolean).map(x=>x.ref.current);z(H,S)}}y.current=!1}),onBlur:w(e.onBlur,()=>R(!1))})})}),Y="RovingFocusGroupItem",q=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:r=!1,tabStopId:c,...u}=e,a=ve(),f=c||a,i=Ne(Y,n),S=i.currentTabStopId===f,v=V(n),{onFocusableItemAdd:C,onFocusableItemRemove:d}=i;return s.useEffect(()=>{if(o)return C(),()=>d()},[o,C,d]),g.jsx(j.ItemSlot,{scope:n,id:f,focusable:o,active:r,children:g.jsx(K.span,{tabIndex:S?0:-1,"data-orientation":i.orientation,...u,ref:t,onMouseDown:w(e.onMouseDown,l=>{o?i.onItemFocus(f):l.preventDefault()}),onFocus:w(e.onFocus,()=>i.onItemFocus(f)),onKeyDown:w(e.onKeyDown,l=>{if(l.key==="Tab"&&l.shiftKey){i.onItemShiftTab();return}if(l.target!==l.currentTarget)return;const m=Ae(l,i.orientation,i.dir);if(m!==void 0){if(l.metaKey||l.ctrlKey||l.altKey||l.shiftKey)return;l.preventDefault();let p=v().filter(R=>R.focusable).map(R=>R.ref.current);if(m==="last")p.reverse();else if(m==="prev"||m==="next"){m==="prev"&&p.reverse();const R=p.indexOf(l.currentTarget);p=i.loop?Pe(p,R+1):p.slice(R+1)}setTimeout(()=>z(p))}})})})});q.displayName=Y;var we={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ye(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ae(e,t,n){const o=ye(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return we[o]}function z(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function Pe(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Ue=B,Le=q;export{Le as I,K as P,Ue as R,T as S,je as a,oe as b,$ as c,ve as d,w as e,Re as f,P as g,_e as h,U as i,De as j,D as k,le as l,W as m,de as u};
