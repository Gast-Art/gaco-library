import{j as l}from"./jsx-runtime-DPtPVAOg.js";import{r as g}from"./index-CR__hKHy.js";import{e as F,f as D,g as V,v as R,h as M,i as k,j as B,u as z,d as G,_ as H,S as J,C as K,L as Q,E as U,c as X,a as Y,b as Z}from"./styles-D9iy3Ker.js";import"./index-D2e_E8nu.js";import{d as ee}from"./styled-components.browser.esm-DnH8uv-2.js";var te=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],A=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=String(t).toLowerCase(),r=String(n.getOptionValue(a)).toLowerCase(),c=String(n.getOptionLabel(a)).toLowerCase();return r===o||c===o},$={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,a,n,o){return!(!t||a.some(function(r){return A(t,r,o)})||n.some(function(r){return A(t,r,o)}))},getNewOptionData:function(t,a){return{label:a,value:t,__isNew__:!0}}};function ne(e){var t=e.allowCreateWhileLoading,a=t===void 0?!1:t,n=e.createOptionPosition,o=n===void 0?"last":n,r=e.formatCreateLabel,c=r===void 0?$.formatCreateLabel:r,C=e.isValidNewOption,S=C===void 0?$.isValidNewOption:C,b=e.getNewOptionData,u=b===void 0?$.getNewOptionData:b,f=e.onCreateOption,v=e.options,s=v===void 0?[]:v,d=e.onChange,i=F(e,te),w=i.getOptionValue,N=w===void 0?k:w,x=i.getOptionLabel,j=x===void 0?B:x,p=i.inputValue,T=i.isLoading,P=i.isMulti,y=i.value,q=i.name,m=g.useMemo(function(){return S(p,D(y),s,{getOptionValue:N,getOptionLabel:j})?u(p,c(p)):void 0},[c,u,j,N,p,S,s,y]),E=g.useMemo(function(){return(a||!T)&&m?o==="first"?[m].concat(V(s)):[].concat(V(s),[m]):s},[a,o,T,m,s]),I=g.useCallback(function(O,h){if(h.action!=="select-option")return d(O,h);var _=Array.isArray(O)?O:[O];if(_[_.length-1]===m){if(f)f(p);else{var L=u(p,p),W={action:"create-option",name:q,option:L};d(R(P,[].concat(V(D(y)),[L]),L),W)}return}d(O,h)},[u,p,P,q,m,f,d,y]);return M(M({},i),{},{options:E,onChange:I})}var ae=g.forwardRef(function(e,t){var a=z(e),n=ne(a);return g.createElement(G,H({ref:t},n))}),re=ae;const ie=ee(re)`
  ${J}
`,oe=e=>l.jsx(X.DropdownIndicator,{...e,children:e.error?l.jsx(Y,{}):l.jsx(Z,{})}),se=({id:e,className:t,options:a,value:n,defaultInputValue:o,error:r,createOptionPosition:c,onChange:C,onCreateOption:S,filterOption:b,label:u,isClearable:f=!0})=>{const[v,s]=g.useState(!1),d=!!(n!=null&&n.value.length)||!!o;return l.jsxs("div",{className:t,children:[l.jsxs(K,{$error:!!r,children:[l.jsx(ie,{id:e,options:a,menuPortalTarget:document.body,isClearable:f,value:n,defaultInputValue:o,createOptionPosition:c,onChange:(i,w)=>C(i,w),onCreateOption:S,placeholder:" ",classNamePrefix:"react-select",onFocus:()=>s(!0),onBlur:()=>s(!1),filterOption:b,components:{DropdownIndicator:i=>l.jsx(oe,{...i,error:r})}}),u&&l.jsx(Q,{$active:d||v,children:u})]}),r&&l.jsx(U,{id:`${e}-error`,children:r})]})};se.__docgenInfo={description:"",methods:[],displayName:"CreatableSelect",props:{id:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:""},value:{required:!1,tsType:{name:"SingleValue",elements:[{name:"SelectOption"}],raw:"SingleValue<SelectOption>"},description:""},defaultInputValue:{required:!1,tsType:{name:"string"},description:""},createOptionPosition:{required:!1,tsType:{name:"union",raw:"'first' | 'last'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'last'"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selected: SingleValue<SelectOption>, actionMeta: ActionMeta<SelectOption>) => void",signature:{arguments:[{type:{name:"SingleValue",elements:[{name:"SelectOption"}],raw:"SingleValue<SelectOption>"},name:"selected"},{type:{name:"ActionMeta",elements:[{name:"SelectOption"}],raw:"ActionMeta<SelectOption>"},name:"actionMeta"}],return:{name:"void"}}},description:""},onCreateOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(inputValue: string) => void",signature:{arguments:[{type:{name:"string"},name:"inputValue"}],return:{name:"void"}}},description:""},filterOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: SelectOption, inputValue: string) => boolean",signature:{arguments:[{type:{name:"SelectOption"},name:"option"},{type:{name:"string"},name:"inputValue"}],return:{name:"boolean"}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},isClearable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{se as C};
