import{j as o}from"./jsx-runtime-CLpGMVip.js";import{r as m}from"./index-CR__hKHy.js";import{d as F}from"./styled-components.browser.esm-BuGJ70dT.js";import{d as R,e as D,f as y,v as k,g as M,h as B,i as z,u as G,b as H,_ as J,S as K,C as Q,L as U,E as X,c as Y,a as Z}from"./styles-Mgeq22oe.js";import"./index-D2e_E8nu.js";import{C as ee}from"./circle-alert-C-cAHhHG.js";var te=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],q=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(t).toLowerCase(),i=String(n.getOptionValue(a)).toLowerCase(),u=String(n.getOptionLabel(a)).toLowerCase();return i===r||u===r},L={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,a,n,r){return!(!t||a.some(function(i){return q(t,i,r)})||n.some(function(i){return q(t,i,r)}))},getNewOptionData:function(t,a){return{label:a,value:t,__isNew__:!0}}};function ne(e){var t=e.allowCreateWhileLoading,a=t===void 0?!1:t,n=e.createOptionPosition,r=n===void 0?"last":n,i=e.formatCreateLabel,u=i===void 0?L.formatCreateLabel:i,g=e.isValidNewOption,S=g===void 0?L.isValidNewOption:g,f=e.getNewOptionData,s=f===void 0?L.getNewOptionData:f,O=e.onCreateOption,$=e.options,c=$===void 0?[]:$,b=e.onChange,l=R(e,te),N=l.getOptionValue,V=N===void 0?B:N,x=l.getOptionLabel,j=x===void 0?z:x,p=l.inputValue,P=l.isLoading,_=l.isMulti,v=l.value,T=l.name,d=m.useMemo(function(){return S(p,D(v),c,{getOptionValue:V,getOptionLabel:j})?s(p,u(p)):void 0},[u,s,j,V,p,S,c,v]),E=m.useMemo(function(){return(a||!P)&&d?r==="first"?[d].concat(y(c)):[].concat(y(c),[d]):c},[a,r,P,d,c]),I=m.useCallback(function(C,w){if(w.action!=="select-option")return b(C,w);var A=Array.isArray(C)?C:[C];if(A[A.length-1]===d){if(O)O(p);else{var h=s(p,p),W={action:"create-option",name:T,option:h};b(k(_,[].concat(y(D(v)),[h]),h),W)}return}b(C,w)},[s,p,_,T,d,O,b,v]);return M(M({},l),{},{options:E,onChange:I})}var ae=m.forwardRef(function(e,t){var a=G(e),n=ne(a);return m.createElement(H,J({ref:t},n))}),re=ae;const ie=F(re)`
  ${K}
`,oe=e=>o.jsx(Y.DropdownIndicator,{...e,children:e.error?o.jsx(ee,{}):o.jsx(Z,{})}),se=({id:e,className:t,options:a,value:n,error:r,onChange:i,onCreateOption:u,label:g})=>{const[S,f]=m.useState(!1);return o.jsxs("div",{className:t,children:[o.jsxs(Q,{$error:!!r,children:[o.jsx(ie,{id:e,options:a,menuPortalTarget:document.body,isClearable:!0,value:n,onChange:(s,O)=>i(s,O),onCreateOption:u,placeholder:" ",classNamePrefix:"react-select",onFocus:()=>f(!0),onBlur:()=>f(!1),components:{DropdownIndicator:s=>o.jsx(oe,{...s,error:r})}}),g&&o.jsx(U,{$active:!!(n!=null&&n.value.length)||S,children:g})]}),r&&o.jsx(X,{id:`${e}-error`,children:r})]})};se.__docgenInfo={description:"",methods:[],displayName:"CreatableSelect",props:{id:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:""},value:{required:!1,tsType:{name:"SingleValue",elements:[{name:"SelectOption"}],raw:"SingleValue<SelectOption>"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selected: SingleValue<SelectOption>, actionMeta: ActionMeta<SelectOption>) => void",signature:{arguments:[{type:{name:"SingleValue",elements:[{name:"SelectOption"}],raw:"SingleValue<SelectOption>"},name:"selected"},{type:{name:"ActionMeta",elements:[{name:"SelectOption"}],raw:"ActionMeta<SelectOption>"},name:"actionMeta"}],return:{name:"void"}}},description:""},onCreateOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(inputValue: string) => void",signature:{arguments:[{type:{name:"string"},name:"inputValue"}],return:{name:"void"}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""}}};export{se as C};
