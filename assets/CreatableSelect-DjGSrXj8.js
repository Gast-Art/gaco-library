import{j as l}from"./jsx-runtime-DPtPVAOg.js";import{r as c}from"./index-CR__hKHy.js";import{e as R,f as _,g as x,v as z,h as D,i as k,j as B,u as H,d as G,_ as J,S as K,C as Q,L as U,E as X,c as Y,a as Z,b as ee}from"./styles-D9iy3Ker.js";import"./index-D2e_E8nu.js";import{d as te,n as ne}from"./styled-components.browser.esm-DnH8uv-2.js";var ae=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],A=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=String(t).toLowerCase(),r=String(n.getOptionValue(a)).toLowerCase(),d=String(n.getOptionLabel(a)).toLowerCase();return r===i||d===i},T={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,a,n,i){return!(!t||a.some(function(r){return A(t,r,i)})||n.some(function(r){return A(t,r,i)}))},getNewOptionData:function(t,a){return{label:a,value:t,__isNew__:!0}}};function re(e){var t=e.allowCreateWhileLoading,a=t===void 0?!1:t,n=e.createOptionPosition,i=n===void 0?"last":n,r=e.formatCreateLabel,d=r===void 0?T.formatCreateLabel:r,b=e.isValidNewOption,v=b===void 0?T.isValidNewOption:b,y=e.getNewOptionData,m=y===void 0?T.getNewOptionData:y,g=e.onCreateOption,w=e.options,u=w===void 0?[]:w,f=e.onChange,o=R(e,ae),C=o.getOptionValue,h=C===void 0?k:C,L=o.getOptionLabel,p=L===void 0?B:L,s=o.inputValue,j=o.isLoading,q=o.isMulti,V=o.value,P=o.name,O=c.useMemo(function(){return v(s,_(V),u,{getOptionValue:h,getOptionLabel:p})?m(s,d(s)):void 0},[d,m,p,h,s,v,u,V]),I=c.useMemo(function(){return(a||!j)&&O?i==="first"?[O].concat(x(u)):[].concat(x(u),[O]):u},[a,i,j,O,u]),W=c.useCallback(function(S,$){if($.action!=="select-option")return f(S,$);var M=Array.isArray(S)?S:[S];if(M[M.length-1]===O){if(g)g(s);else{var N=m(s,s),F={action:"create-option",name:P,option:N};f(z(q,[].concat(x(_(V)),[N]),N),F)}return}f(S,$)},[m,s,q,P,O,g,f,V]);return D(D({},o),{},{options:I,onChange:W})}var ie=c.forwardRef(function(e,t){var a=H(e),n=re(a);return c.createElement(G,J({ref:t},n))}),oe=ie;const se=te(oe)`
  ${K}
`,le=e=>l.jsx(Y.DropdownIndicator,{...e,children:e.error?l.jsx(Z,{}):l.jsx(ee,{})}),E=c.forwardRef(({id:e,className:t,options:a,value:n,defaultInputValue:i,error:r,createOptionPosition:d,onChange:b,onCreateOption:v,filterOption:y,menuPortalTarget:m=document.body,label:g,isClearable:w=!0,noOptionsMessage:u},f)=>{const[o,C]=c.useState(!1),h=ne(),L=!!(n!=null&&n.value.length)||!!i;return l.jsxs("div",{className:t,children:[l.jsxs(Q,{$error:!!r,children:[l.jsx(se,{ref:f,id:e,options:a,menuPortalTarget:m,isClearable:w,value:n,defaultInputValue:i,createOptionPosition:d,onChange:(p,s)=>b(p,s),onCreateOption:v,placeholder:" ",classNamePrefix:"react-select",onFocus:()=>C(!0),onBlur:()=>C(!1),filterOption:y,noOptionsMessage:u,styles:{menuPortal:p=>({...p,pointerEvents:"auto",zIndex:h.zIndices.dropdownMenu})},components:{DropdownIndicator:p=>l.jsx(le,{...p,error:r})}}),g&&l.jsx(U,{$active:L||o,children:g})]}),r&&l.jsx(X,{id:`${e}-error`,children:r})]})});E.displayName="CreatableSelect";E.__docgenInfo={description:"",methods:[],displayName:"CreatableSelect",props:{id:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:""},menuPortalTarget:{required:!1,tsType:{name:"HTMLElement"},description:"",defaultValue:{value:"document.body",computed:!0}},value:{required:!1,tsType:{name:"SingleValue",elements:[{name:"SelectOption"}],raw:"SingleValue<SelectOption>"},description:""},defaultInputValue:{required:!1,tsType:{name:"string"},description:""},createOptionPosition:{required:!1,tsType:{name:"union",raw:"'first' | 'last'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'last'"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selected: SingleValue<SelectOption>, actionMeta: ActionMeta<SelectOption>) => void",signature:{arguments:[{type:{name:"SingleValue",elements:[{name:"SelectOption"}],raw:"SingleValue<SelectOption>"},name:"selected"},{type:{name:"ActionMeta",elements:[{name:"SelectOption"}],raw:"ActionMeta<SelectOption>"},name:"actionMeta"}],return:{name:"void"}}},description:""},onCreateOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(inputValue: string) => void",signature:{arguments:[{type:{name:"string"},name:"inputValue"}],return:{name:"void"}}},description:""},filterOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: SelectOption, inputValue: string) => boolean",signature:{arguments:[{type:{name:"SelectOption"},name:"option"},{type:{name:"string"},name:"inputValue"}],return:{name:"boolean"}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},isClearable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},noOptionsMessage:{required:!1,tsType:{name:"signature",type:"function",raw:"() => string",signature:{arguments:[],return:{name:"string"}}},description:""}}};export{E as C};
