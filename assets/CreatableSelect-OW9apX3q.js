import{j as s}from"./jsx-runtime-DPtPVAOg.js";import{r as c}from"./index-CR__hKHy.js";import{e as R,f as M,g as N,v as k,h as D,i as B,j as z,u as G,d as H,_ as J,S as K,C as Q,L as U,E as X,c as Y,a as Z,b as ee}from"./styles-D9iy3Ker.js";import"./index-D2e_E8nu.js";import{d as te}from"./styled-components.browser.esm-DnH8uv-2.js";var ne=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],A=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=String(t).toLowerCase(),r=String(n.getOptionValue(a)).toLowerCase(),d=String(n.getOptionLabel(a)).toLowerCase();return r===i||d===i},x={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,a,n,i){return!(!t||a.some(function(r){return A(t,r,i)})||n.some(function(r){return A(t,r,i)}))},getNewOptionData:function(t,a){return{label:a,value:t,__isNew__:!0}}};function ae(e){var t=e.allowCreateWhileLoading,a=t===void 0?!1:t,n=e.createOptionPosition,i=n===void 0?"last":n,r=e.formatCreateLabel,d=r===void 0?x.formatCreateLabel:r,S=e.isValidNewOption,b=S===void 0?x.isValidNewOption:S,v=e.getNewOptionData,u=v===void 0?x.getNewOptionData:v,O=e.onCreateOption,y=e.options,l=y===void 0?[]:y,m=e.onChange,o=R(e,ne),w=o.getOptionValue,g=w===void 0?B:w,h=o.getOptionLabel,T=h===void 0?z:h,p=o.inputValue,j=o.isLoading,q=o.isMulti,L=o.value,P=o.name,f=c.useMemo(function(){return b(p,M(L),l,{getOptionValue:g,getOptionLabel:T})?u(p,d(p)):void 0},[d,u,T,g,p,b,l,L]),I=c.useMemo(function(){return(a||!j)&&f?i==="first"?[f].concat(N(l)):[].concat(N(l),[f]):l},[a,i,j,f,l]),W=c.useCallback(function(C,V){if(V.action!=="select-option")return m(C,V);var _=Array.isArray(C)?C:[C];if(_[_.length-1]===f){if(O)O(p);else{var $=u(p,p),F={action:"create-option",name:P,option:$};m(k(q,[].concat(N(M(L)),[$]),$),F)}return}m(C,V)},[u,p,q,P,f,O,m,L]);return D(D({},o),{},{options:I,onChange:W})}var re=c.forwardRef(function(e,t){var a=G(e),n=ae(a);return c.createElement(H,J({ref:t},n))}),ie=re;const oe=te(ie)`
  ${K}
`,se=e=>s.jsx(Y.DropdownIndicator,{...e,children:e.error?s.jsx(Z,{}):s.jsx(ee,{})}),E=c.forwardRef(({id:e,className:t,options:a,value:n,defaultInputValue:i,error:r,createOptionPosition:d,onChange:S,onCreateOption:b,filterOption:v,label:u,isClearable:O=!0,noOptionsMessage:y},l)=>{const[m,o]=c.useState(!1),w=!!(n!=null&&n.value.length)||!!i;return s.jsxs("div",{className:t,children:[s.jsxs(Q,{$error:!!r,children:[s.jsx(oe,{ref:l,id:e,options:a,menuPortalTarget:document.body,isClearable:O,value:n,defaultInputValue:i,createOptionPosition:d,onChange:(g,h)=>S(g,h),onCreateOption:b,placeholder:" ",classNamePrefix:"react-select",onFocus:()=>o(!0),onBlur:()=>o(!1),filterOption:v,noOptionsMessage:y,components:{DropdownIndicator:g=>s.jsx(se,{...g,error:r})}}),u&&s.jsx(U,{$active:w||m,children:u})]}),r&&s.jsx(X,{id:`${e}-error`,children:r})]})});E.displayName="CreatableSelect";E.__docgenInfo={description:"",methods:[],displayName:"CreatableSelect",props:{id:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:""},value:{required:!1,tsType:{name:"SingleValue",elements:[{name:"SelectOption"}],raw:"SingleValue<SelectOption>"},description:""},defaultInputValue:{required:!1,tsType:{name:"string"},description:""},createOptionPosition:{required:!1,tsType:{name:"union",raw:"'first' | 'last'",elements:[{name:"literal",value:"'first'"},{name:"literal",value:"'last'"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selected: SingleValue<SelectOption>, actionMeta: ActionMeta<SelectOption>) => void",signature:{arguments:[{type:{name:"SingleValue",elements:[{name:"SelectOption"}],raw:"SingleValue<SelectOption>"},name:"selected"},{type:{name:"ActionMeta",elements:[{name:"SelectOption"}],raw:"ActionMeta<SelectOption>"},name:"actionMeta"}],return:{name:"void"}}},description:""},onCreateOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(inputValue: string) => void",signature:{arguments:[{type:{name:"string"},name:"inputValue"}],return:{name:"void"}}},description:""},filterOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: SelectOption, inputValue: string) => boolean",signature:{arguments:[{type:{name:"SelectOption"},name:"option"},{type:{name:"string"},name:"inputValue"}],return:{name:"boolean"}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},isClearable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},noOptionsMessage:{required:!1,tsType:{name:"signature",type:"function",raw:"() => string",signature:{arguments:[],return:{name:"string"}}},description:""}}};export{E as C};
